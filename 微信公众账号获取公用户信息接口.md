微信公共账号获取公用户信息接口
=================

以下微信提供的接口都是，微信公众账号拥有授权作用域（scope参数）的权限的，及微信公众账号受到认证，前提下才可以进行的

通过全局Access Token获取用户基本信息
-----------------

1.使用access_token接口，请求获得全局Access Token
<pre><code>https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=appid&secret=APPSECRET</code></pre>
请求这个地址，填写公共账号对应的参数（AppId&AppSecret在微信公众平台开发者中心获取），就会返回Access Token的值了。


2. 再使用全局ACCESS_TOKEN获取OpenID的详细信息(这里的OpenID是用户的账号的加id)

<pre><code>
https://api.weixin.qq.com/cgi-bin/user/info?access_token=ACCESS_TOKEN&openid=OPENID
</code></pre>

会返回类似的json数据

```js
{
    "subscribe": 1,
    "openid": "oLVPpjqs2BhvzwPj5A-vTYAX4GLc",
    "nickname": "方倍",
    "sex": 1,
    "language": "zh_CN",
    "city": "深圳",
    "province": "广东",
    "country": "中国",
    "headimgurl": "http://wx.qlogo.cn/mmopen/JcDicrZBlREhnNXZRudod9PmibRkIs5K2f1tUQ7lFjC63pYHaXGxNDgMzjGDEuvzYZbFOqtUXaxSdoZG6iane5ko9H30krIbzGv/0",
    "subscribe_time": 1386160805
}
```


3. 获取账号列表
<pre><code>
https://api.weixin.qq.com/cgi-bin/user/get?access_token=ACCESS_TOKEN&next_openid=NEXT_OPENID
</code></pre>
next_openid	 ：	 第一个拉取的OPENID，不填默认从头开始拉取


通过OAuth2.0方式弹出授权页面获得用户基本信息
-----------------

 1. 构造请求url如下：
<pre><code>
https://open.weixin.qq.com/connect/oauth2/authorize?appid=appid&redirect_uri=http://mascot.duapp.com/oauth2.php&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect
</code></pre>

redirect_uri ： 表示授权回调页面域名
response_type ：返回类型，请填写code
scope ： 应用授权作用域，snsapi_base （不弹出授权页面，直接跳转，只能获取用户openid），snsapi_userinfo （弹出授权页面，可通过openid拿到昵称、性别、所在地。并且，即使在未关注的情况下，只要用户授权，也能获取其信息）
state	 ：	 重定向后会带上state参数，开发者可以填写a-zA-Z0-9的参数值
#wechat_redirect	 ：	 无论直接打开还是做页面302重定向时候，必须带此参数


